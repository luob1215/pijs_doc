"use strict";(self.webpackChunkpijs_doc=self.webpackChunkpijs_doc||[]).push([[633],{706:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>_,contentTitle:()=>d,default:()=>f,frontMatter:()=>t,metadata:()=>l,toc:()=>a});var n=i(5893),r=i(1151);const t={},d="File",l={id:"API/file",title:"File",description:"fs_access",source:"@site/docs/API/file.md",sourceDirName:"API",slug:"/API/file",permalink:"/pijs_doc/docs/API/file",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"API",permalink:"/pijs_doc/docs/API/"},next:{title:"Http Server",permalink:"/pijs_doc/docs/API/http"}},_={},a=[{value:"fs_access",id:"fs_access",level:2},{value:"fs_rename",id:"fs_rename",level:2},{value:"fs_stat_is_read_only",id:"fs_stat_is_read_only",level:2},{value:"fs_stat_ftype",id:"fs_stat_ftype",level:2},{value:"fs_stat_size",id:"fs_stat_size",level:2},{value:"fs_stat_last_accessed_time",id:"fs_stat_last_accessed_time",level:2},{value:"fs_stat_last_modified_time",id:"fs_stat_last_modified_time",level:2},{value:"fs_mkdir",id:"fs_mkdir",level:2},{value:"fs_readdir",id:"fs_readdir",level:2},{value:"fs_rmdir",id:"fs_rmdir",level:2},{value:"fs_read_file_string",id:"fs_read_file_string",level:2},{value:"fs_read_file_binary",id:"fs_read_file_binary",level:2},{value:"fs_write_file",id:"fs_write_file",level:2},{value:"fs_append_file",id:"fs_append_file",level:2},{value:"fs_copy_file",id:"fs_copy_file",level:2},{value:"fs_unlink",id:"fs_unlink",level:2},{value:"walk_dir_sync",id:"walk_dir_sync",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"file",children:"File"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'import { File } from "pi_pt/native/pi_core_lib/js_file";\r\n\r\nconst file = File.walk_dir_sync("./test");\r\nFile.fs_write_file(`./backout_data/${lastversion}_${Date.now()}`, utf8Encode(fileBody));\n'})}),"\n",(0,n.jsx)(s.h2,{id:"fs_access",children:"fs_access"}),"\n",(0,n.jsx)(s.p,{children:"\u5224\u65ad\u6587\u4ef6/\u76ee\u5f55\u662f\u5426\u5b58\u5728"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_access(path: string): boolean\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_rename",children:"fs_rename"}),"\n",(0,n.jsx)(s.p,{children:"\u91cd\u547d\u540d\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_rename(from: string, to: string): Promise<boolean>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_stat_is_read_only",children:"fs_stat_is_read_only"}),"\n",(0,n.jsx)(s.p,{children:"\u83b7\u53d6\u6587\u4ef6\u662f\u5426\u53ea\u8bfb"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_stat_is_read_only(path: string): boolean\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_stat_ftype",children:"fs_stat_ftype"}),"\n",(0,n.jsx)(s.p,{children:"\u6587\u4ef6\u7c7b\u578b \u666e\u901a\u6587\u4ef6\u4e3a1\uff0c\u76ee\u5f55\u4e3a2\uff0c\u7b26\u53f7\u94fe\u63a5\u4e3a3"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_stat_ftype(path: string): number\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_stat_size",children:"fs_stat_size"}),"\n",(0,n.jsx)(s.p,{children:"\u6587\u4ef6\u7684\u5927\u5c0f"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_stat_size(path: string): number\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_stat_last_accessed_time",children:"fs_stat_last_accessed_time"}),"\n",(0,n.jsx)(s.p,{children:"\u83b7\u53d6\u6570\u636e\u7684\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\uff0cUNIX \u65f6\u95f4\u6233\uff0c\u5bf9\u5e94 POSIX stat.st_mtime"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_stat_last_accessed_time(path: string): number\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_stat_last_modified_time",children:"fs_stat_last_modified_time"}),"\n",(0,n.jsx)(s.p,{children:"\u6587\u4ef6\u6700\u540e\u4e00\u6b21\u88ab\u4fee\u6539\u7684\u65f6\u95f4\uff0cUNIX \u65f6\u95f4\u6233\uff0c\u5bf9\u5e94 POSIX stat.st_mtime"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_stat_last_modified_time(path: string): number\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_mkdir",children:"fs_mkdir"}),"\n",(0,n.jsx)(s.p,{children:"\u521b\u5efa\u76ee\u5f55"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_mkdir(path: string): Promise<boolean>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_readdir",children:"fs_readdir"}),"\n",(0,n.jsx)(s.p,{children:"\u8bfb\u53d6\u76ee\u5f55\u5185\u6587\u4ef6\u5217\u8868"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"fs_readdir(dir: string): string\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_rmdir",children:"fs_rmdir"}),"\n",(0,n.jsx)(s.p,{children:"\u5220\u9664\u76ee\u5f55"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_rmdir(path: string): Promise<boolean>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_read_file_string",children:"fs_read_file_string"}),"\n",(0,n.jsx)(s.p,{children:"\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\u5185\u5bb9(utf8)"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_read_file_string(path: string, offset: number|bigint, size: number|bigint): Promise<string> \n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_read_file_binary",children:"fs_read_file_binary"}),"\n",(0,n.jsx)(s.p,{children:"\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\u5185\u5bb9(\u4e8c\u8fdb\u5236)"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_read_file_binary(path: string, offset: number|bigint, size: number|bigint): Promise<ArrayBuffer|SharedArrayBuffer|Uint8Array|ArrayBufferView>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_write_file",children:"fs_write_file"}),"\n",(0,n.jsx)(s.p,{children:"\u5199\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_write_file(path: string, data: ArrayBuffer|SharedArrayBuffer|Uint8Array|ArrayBufferView): Promise<number|bigint>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_append_file",children:"fs_append_file"}),"\n",(0,n.jsx)(s.p,{children:"\u5728\u6587\u4ef6\u7ed3\u5c3e\u8ffd\u52a0\u5185\u5bb9"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_append_file(path: string, data: ArrayBuffer|SharedArrayBuffer|Uint8Array|ArrayBufferView): Promise<number|bigint> \n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_copy_file",children:"fs_copy_file"}),"\n",(0,n.jsx)(s.p,{children:"\u590d\u5236\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_copy_file(src_path: string, dest_path: string): Promise<number|bigint>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"fs_unlink",children:"fs_unlink"}),"\n",(0,n.jsx)(s.p,{children:"\u5220\u9664\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"async fs_unlink(path: string): Promise<boolean>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"walk_dir_sync",children:"walk_dir_sync"}),"\n",(0,n.jsx)(s.p,{children:"\u6b65\u9012\u5f52\u904d\u5386\u76ee\u5f55\u7684\u6240\u6709\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"walk_dir_sync(path: string): string\n"})})]})}function f(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1151:(e,s,i)=>{i.d(s,{Z:()=>l,a:()=>d});var n=i(7294);const r={},t=n.createContext(r);function d(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);